<html>
  <head>
    <script>
      let protocol = window.location.protocol;
      console.log(protocol.length);
      let HOST = location.origin;
      console.log(HOST);
      if (protocol == "http:" && protocol.length == 5) {
        HOST = location.origin.replace(/^http/, "ws");
      } else if (protocol == "https:") {
        HOST = location.origin.replace(/^https/, "wss");
      }
      console.log(HOST);

      let ws = new WebSocket(HOST);
      let el;

      ws.onmessage = (event) => {
        el = document.getElementById("server-time");
        el.innerHTML = "Server time: " + event.data;
      };
    </script>
  </head>
  <body>
    <p id="server-time"></p>
  </body>
</html>
